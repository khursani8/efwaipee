<div class="container row">
#TODO <br>
* Add table similar to mypassport <br>
* Using timeline style <br>

    <div class="container text-center">
        <ul class="collapsible" data-collapsible="accordion">
    <li>
      <div class="collapsible-header"><i class="material-icons">filter_drama</i>First</div>
      <div class="collapsible-body"><span>Input thesis id or user id? into the input field.</span></div>
    </li>
    <li>
      <div class="collapsible-header"><i class="material-icons">place</i>Second</div>
      <div class="collapsible-body"><span>Click on check button.</span></div>
    </li>
    <li>
      <div class="collapsible-header"><i class="material-icons">whatshot</i>Third</div>
      <div class="collapsible-body"><span>Track your Thesis....</span></div>
    </li>
  </ul>

  <div class="col s8">
      <input type="text" id="input"><button class="btn btn-primary" onclick="check()">Check</button>
    <div class="hor">
        <div class="me circle">
            <strong></strong>
        </div>
        <hr>
        <div class="cgs circle">
            <strong></strong>
        </div>
        <hr>
        <div class="Examiner">
            
        </div>
        
    </div>
  </div>

  <div class="col s4">
      <tr>
          <td>gggyg</td>
      </tr>
  </div>
    </div>

    
  
  
</div>



<style>
    .round{
        display: flex;
    }
    .roundcol{
        display: flex;
        flex-direction: column
    }
    .hor{
        display: flex;
        flex-direction:column;
        justify-content: center;
        align-items: center
    }
    .Examiner{
        display: flex;
        justify-content: space-around;
        width: 100%
    }
    .circle {
        width: 100px;
        margin: 6px 6px 20px;
        display: inline-block;
        position: relative;
        text-align: center;
        line-height: 1.2;
    }
    .circle canvas {
        vertical-align: top;
    }
    .circle strong {
        position: absolute;
        top: 30px;
        left: 0;
        width: 100%;
        text-align: center;
        line-height: 40px;
        font-size: 30px;
        }
    hr {
        border: 0;
        clear:both;
        display:block;
        width: 96%;
        background-color:#000000;
        height: 1px;
    }
</style>

<script>
  $('.me.circle').circleProgress({
    value: 0,
    fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
  }).on('circle-animation-progress', function(event, progress, stepValue) {
    $(this).find('strong').text("Me");
  });
  $('.cgs.circle').circleProgress({
    value: 0,
    fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
  }).on('circle-animation-progress', function(event, progress, stepValue) {
    $(this).find('strong').text("CGS");
  });
  $('.third.circle').circleProgress({
    value: 0,
    fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
  }).on('circle-animation-progress', function(event, progress, stepValue) {
    $(this).find('strong').text("IE");
  });
  $('.fourth.circle').circleProgress({
    value: 0,
    fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
  }).on('circle-animation-progress', function(event, progress, stepValue) {
    $(this).find('strong').text("EE");
  });
</script>

<script>



    var check = function(){
        id = document.getElementById('input').value
        
            var xhttp = new XMLHttpRequest();
            xhttp.open("GET", "/api/thesis/studentId/"+id, true);
            xhttp.send()
            xhttp.onload = function(data){
                response = JSON.parse(data.target.response);
                console.log(response);
                console.log(response.length);
                
                key = response[0].checkpoint
                console.log(key);
                if(key){
                        if(key===1){
                            console.log('checkpont 1');
                            $('.me.circle').circleProgress({
                                value: 1,
                                fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
                            }).on('circle-animation-progress', function(event, progress, stepValue) {
                                $(this).find('strong').text("Me");
                            });

                            $('.cgs.circle').circleProgress({
                                value: 0.5,
                                fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
                            }).on('circle-animation-progress', function(event, progress, stepValue) {
                                $(this).find('strong').text("CGS");
                            });
                        }
                        else if(key===2){
                            $('.me.circle').circleProgress({
                                value: 1,
                                fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
                            }).on('circle-animation-progress', function(event, progress, stepValue) {
                                $(this).find('strong').text("Me");
                            });

                            $('.cgs.circle').circleProgress({
                                value: 1,
                                fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
                            }).on('circle-animation-progress', function(event, progress, stepValue) {
                                $(this).find('strong').text("CGS");
                            });
                        }
                    }
                
                for (var index = 0; index < response.length; index++) {
                    $('.Examiner').append('<div class="'+index+' circle"><strong></strong></div>')
                    if(response[index].checkpoint===3){
                        value1 = 0.5
                    }
                    else if(response[index].checkpoint===4){
                        value1 = 1
                    }
                    $('.'+index+'.circle').circleProgress({
                        value: 1,
                        fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
                    }).on('circle-animation-progress', function(event, progress, stepValue) {
                        $(this).find('strong').text("Me");
                    });
                }


                switch (key) {
        case 1://cgs received
            $('.first.circle').circleProgress({
                value: 1,
                fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
            }).on('circle-animation-progress', function(event, progress, stepValue) {
                $(this).find('strong').text("Me");
            });
            $('.second.circle').circleProgress({
                value: 0.5,
                fill: {gradient: [['#0681c4', .5], ['#4ac5f8', .5]], gradientAngle: Math.PI}
            }).on('circle-animation-progress', function(event, progress, stepValue) {
                $(this).find('strong').text("CGS");
            });
            
            break;
        case 2://cgs sent
            done(student)
            done(cgs)
            init(internal)
            break;
        case 3://examiner received
            done(student)
            done(cgs)
            half(internal)
            // key1===3 ? half(external) : init(external)
            // key1===4 ? done(external) : init(external)
            break;
        case 4://examiner sent
            done(student)
            done(cgs)
            done(internal)
            // key1===3 ? half(external) : init(external)
            // key1===4 ? done(external) : init(external)
            break;

        default:
            break;
    }
            }

    }


</script>

<script>
    $(document).ready(function(){
    $('.collapsible').collapsible();
  });
</script>